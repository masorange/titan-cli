name: "Create Pull Request with AI + Linter + Tests"
description: "AI-powered PR creation with linting and testing validation."

steps:
  - id: commit-changes
    name: "Commit changes with AI, Linter and Tests"
    workflow: "commit-ai"

  - id: get_head_branch
    name: "Get Head Branch"
    plugin: git
    step: get_current_branch

  - id: ai_pr_description
    name: "AI PR Description"
    plugin: github
    step: ai_suggest_pr_description

  - hook: before_push

  - id: push
    name: "Push to Remote"
    plugin: git
    step: push

  - id: prompt_pr_title
    name: "Prompt for PR Title"
    plugin: github
    step: prompt_for_pr_title

  - id: prompt_pr_body
    name: "Prompt for PR Body"
    plugin: github
    step: prompt_for_pr_body

  - id: create_pr
    name: "Create Pull Request"
    plugin: github
    step: create_pr
    requires:
      - pr_title
      - pr_head_branch

  - hook: after_pr
