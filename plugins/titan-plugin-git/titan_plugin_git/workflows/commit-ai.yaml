name: "Commit with AI"
description: "Create a commit with AI-generated message"

hooks:
  - before_commit  # Hook for linting/testing

steps:
  # Check for changes FIRST - exits workflow if nothing to commit
  - id: git_status
    name: "Check Git Status"
    plugin: git
    step: get_status

  - hook: before_commit  # This is where injected steps will run

  - id: diff_summary
    name: "Show Changes Summary"
    plugin: git
    step: show_uncommitted_diff_summary

  - id: ai_commit_message
    name: "AI Commit Message"
    plugin: git
    step: ai_generate_commit_message

  - id: create_commit
    name: "Create Commit"
    plugin: git
    step: create_commit

  - id: push
    name: "Push changes to remote"
    plugin: git
    step: push